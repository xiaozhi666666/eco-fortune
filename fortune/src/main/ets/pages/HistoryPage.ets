import router from '@ohos.router';

@Entry
@Component
struct HistoryPage {
  @State historyList: string[] = [
    'ðŸ“ å¼ ä¸‰çš„å§“ååˆ†æž - 1æœˆ15æ—¥',
    'â­ ç™½ç¾Šåº§ä»Šæ—¥è¿åŠ¿ - 1æœˆ14æ—¥', 
    'ðŸ”® æŽå››çš„å…«å­—ç®—å‘½ - 1æœˆ13æ—¥',
    'ðŸƒ å¡”ç½—ç‰Œå åœç»“æžœ - 1æœˆ12æ—¥',
    'ðŸ“± 138****8888å·ç åˆ†æž - 1æœˆ11æ—¥'
  ];

  build() {
    Column() {
      // é¡¶éƒ¨å¯¼èˆª
      Row() {
        Button('â†')
          .fontSize(24)
          .backgroundColor(Color.Transparent)
          .fontColor('#ffd700')
          .onClick(() => {
            router.back()
          })
        
        Text('åŽ†å²è®°å½•')
          .fontSize(20)
          .fontWeight(FontWeight.Bold)
          .fontColor('#ffffff')
          .layoutWeight(1)
          .textAlign(TextAlign.Center)
        
        Button('æ¸…ç©º')
          .fontSize(16)
          .backgroundColor(Color.Transparent)
          .fontColor('#ff6b6b')
          .onClick(() => {
            this.historyList = [];
          })
      }
      .width('100%')
      .padding(20)
      
      if (this.historyList.length === 0) {
        Column() {
          Text('ðŸ“œ')
            .fontSize(64)
            .margin({ bottom: 20 })
          
          Text('æš‚æ— åŽ†å²è®°å½•')
            .fontSize(18)
            .fontColor('#cccccc')
            .margin({ bottom: 10 })
          
          Text('å¿«åŽ»ä½“éªŒå„ç§ç®—å‘½åŠŸèƒ½å§ï¼')
            .fontSize(14)
            .fontColor('#999999')
        }
        .width('100%')
        .layoutWeight(1)
        .justifyContent(FlexAlign.Center)
      } else {
        Column() {
          Text(`å…±${this.historyList.length}æ¡è®°å½•`)
            .fontSize(16)
            .fontColor('#cccccc')
            .margin({ bottom: 20 })
          
          List({ space: 10 }) {
            ForEach(this.historyList, (item: string, index: number) => {
              ListItem() {
                Row() {
                  Text(item)
                    .fontSize(16)
                    .fontColor('#ffffff')
                    .layoutWeight(1)
                  
                  Button('åˆ é™¤')
                    .fontSize(12)
                    .backgroundColor('#ff6b6b')
                    .fontColor('#ffffff')
                    .borderRadius(15)
                    .onClick(() => {
                      this.historyList.splice(index, 1);
                    })
                }
                .width('100%')
                .padding(15)
                .backgroundColor('#533483')
                .borderRadius(10)
              }
            })
          }
          .width('100%')
          .layoutWeight(1)
        }
        .width('100%')
        .padding(20)
        .layoutWeight(1)
      }
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#1a1a2e')
  }
}